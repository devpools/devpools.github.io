<!DOCTYPE html>
<html lang="ko">


<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>
    요사이 유행하는 텔레그램봇 저도 한번 만들어봤습니다. | devpools blog
  </title>
  <meta name="description" content="개발 바보들 모여라">
  
  <meta name="keywords" content="
  telegram,텔레그램
  ">
  
  <meta name="author" content="devpools">

  <meta http-equiv="Cache-Control" content="no-transform"/>
  <meta http-equiv="Cache-Control" content="no-siteapp">

  <link rel="icon" type="image/x-icon" href="">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet"
        href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  

  

  <script src="//cdnjs.cloudflare.com/ajax/libs/vue/1.0.25-csp/vue.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.2/moment.min.js"></script>
</head>

<body id="replica-app">

<nav class="navbar-wrapper">
  <div class="navbar">
    <div class="container clearfix">
      <a href="/" class="navbar-logo"><i class="fa fa-github"></i></a>

      <div class="navbar-search float-left desktop-only">
        <div class="navbar-search-form">
          <label for="gsc-i-id1">This website</label>
          <div id="google-search">
            <gcse:search></gcse:search>
          </div>
        </div>
      </div>

      <ul class="navbar-nav float-left">
        
        <li><a href="/archives">Archives</a></li>
        
        
        <li><a href="/categories">Categories</a></li>
        
        
        <li><a href="/tags">Tags</a></li>
        
        
        <li><a href="/atom.xml" target="_blank">RSS</a></li>
        
      </ul>

      <ul class="navbar-nav user-nav float-right desktop-only">
        <li class="user-nav-notification">
          <a><span class="user-nav-unread"></span><i class="fa fa-bell"></i></a>
        </li>
        <li>
          <a><i class="fa fa-plus"></i> <i class="fa fa-caret-down"></i></a>
        </li>
        <li class="user-nav-logo">
          <a><img src="https://avatars2.githubusercontent.com/u/5300359?v=4&amp;s=460"> <i class="fa fa-caret-down"></i></i></a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="main-container">
  <header class="header-wrapper desktop-only">
  <div class="container header-site-detail">
    <ul class="header-toolbar">
      <li class="clearfix">
        <a href="/archives" class="header-toolbar-left"><i
                  class="fa fa-file-text"></i> Posts </a>
        <a href="/archives"
           class="header-toolbar-right"> 52 </a>
      </li>
      <li>
        <a href="/tags" class="header-toolbar-left"><i
                  class="fa fa-tags"></i> Tags </a>
        <a href="/tags"
           class="header-toolbar-right"> 44 </a>
      </li>
      <li>
        <a href="/categories" class="header-toolbar-left"><i
                  class="fa fa-folder-open"></i> Categories </a>
        <a href="/categories"
           class="header-toolbar-right"> 23 </a>
      </li>
    </ul>
    <h2 class="header-title">
      <i class="fa fa-book text-muted"></i>
      <a href="/">devpools blog</a>
      
      
    </h2>
  </div>

  <div class="container">
    <div class="header-tab-wrapper clearfix">
      <span class="header-tab header-tab-selected"><i class="fa fa-thumbs-o-up"></i> Like</span>
      <span class="header-tab"><i class="fa fa-share-alt"></i> Share</span>
      <span class="header-tab"><i class="fa fa-comments-o"></i> Discussion</span>
      <span class="header-tab"><i class="fa fa-bookmark-o"></i> Bookmark </span>
      <span class="header-tab"><i class="fa fa-smile-o"></i> Smile <i class="fa fa-caret-down"></i></span>
    </div>
  </div>
</header>


<div class="post-container container">
  <h3>
    <i class="fa fa-user-o"></i>
    devpools

    <span class="post-date float-right" title="{{moment(1458520284000).format('MMM DD, YYYY, h:mm:ss A')}}">
      <i class="fa fa-pencil-square-o"></i>
      {{moment(1458520284000).fromNow()}}
    </span>
  </h3>

  <article class="post-content">
    <h1>요사이 유행하는 텔레그램봇 저도 한번 만들어봤습니다.</h1>
    <p>최근들어 다시금 인기를 얻고 있는 텔레그램의 Bot을 한번 만들어보고자 합니다.</p>
<p><strong>Bot?</strong><br>텔레그램에서 제공하는 Bot은 텔레그램 계정 중 사람의 계정이 아닌 것을 말합니다. 쉽게 robot의 bot이라고 이해하셔도 좋을 것같습니다. Bot은 깃헙 같은 다른 서비스와 연결하여 푸시 알림이라던지, 토렌트의 다운로드가 완료되었다는 알림, 또는 가상의 게임, 소셜서비스 등, 사용자와 자동으로 상호작용할 수 있는 그런 서비스를 만들 수 있습니다. Bot 계정은 보통의 텔레그램 계정과는 다른 점이 있습니다. 예를들어 다른 사용자나 그룹에 대화를 먼저 시작할 수 없고, 계정은 반드시 Bot으로 끝나야 합니다.</p>
<p>Bot을 만들려면 어딘가에서 사용자의 메시지를 처리할 수 있는 서버가 필요하고, BotFather라는 텔레그램의 Bot을 통해서 나의 Bot계정을 만들 수 있습니다.</p>
<p>더 자세한 내용은 아래 링크에서 확인하세요.<br><a href="https://core.telegram.org/bots" target="_blank" rel="noopener">텔레그램 Bot 소개 (Bots: An introduction for developers)</a></p>
<p><strong>Bot 만들기.</strong><br>이제 Bot을 만들어볼건데, 텔레그램 bot샘플코드를 이용해서 프로그래밍의 시작인 Hello world를 만들겠습니다.<br><a href="https://core.telegram.org/bots/samples" target="_blank" rel="noopener">텔레그램 bot 샘플코드</a></p>
<p>먼저 준비물은</p>
<ul>
<li>서버</li>
<li>Bot 이름.</li>
</ul>
<p>BotFather에게 말을 걸어야 합니다. <a href="https://telegram.me/botfather" target="_blank" rel="noopener">BotFather에게 연결하기</a><br>(모바일로 말을 걸 수도 있지만, 데스크탑 앱을 이용하세요. 키보드가 있으니 더 편합니다.)</p>
<p><img src="http://nonamedeveloper.com/wp-content/uploads/2016/03/Telegram-2016-03-21-08-15-27-225x300.jpg" alt="Telegram 2016-03-21 08-15-27"><br>말을 걸면 위와 같은 메시지를 보실 수 있습니다. BotFather가 무얼 할 수 있는지 간단한 설명을 보여주고 다음 메시지를 기다리게 됩니다. 이제 Bot계정을 만들어 보겠습니다. 친절하게도 “/“를 입력하면 사용할 수 있는 명령어 들을 보여줍니다. 지금은 새로 만들어야 하니까 “/newBot” 명령을 보내겠습니다.</p>
<p>name과 username을 지정하고 몇가지 대화를 거쳐 쉽게 Bot계정을 생성하실 수 있습니다. name은 bot이 표시될 이름이고, username은 ID라고 생각하시면 됩니다. 즉, name의 다른 bot과 중복될 수 있지만, username은 중복될 수 없습니다.<br><img src="http://nonamedeveloper.com/wp-content/uploads/2016/03/Telegram-2016-03-21-08-26-22-225x300.jpg" alt="Telegram 2016-03-21 08-26-22"></p>
<p><img src="http://nonamedeveloper.com/wp-content/uploads/2016/03/Telegram-2016-03-21-08-30-06-274x300.jpg" alt="Telegram 2016-03-21 08-30-06"></p>
<p><img src="http://nonamedeveloper.com/wp-content/uploads/2016/03/Telegram-2016-03-21-08-30-37-300x277.jpg" alt="Telegram 2016-03-21 08-30-37"></p>
<p>Bot계정이 정상적으로 생성되면 API키를 전달받게됩니다. 이 키는 유출되거나, 잃어버리지 않도록 잘 보관하시기 바랍니다.</p>
<p>저는 ruby를 이용해서 만들건데, 다른 언어도 크게 다르지는 않을겁니다. 샘플코드에서 API키를 위에서 발급받은 키를 입력하고,<br>실행시키면 일단은 끝이 납니다. 간단하죠?<br><a href="https://gist.github.com/ikaruce/2ee4088438bb45d25fbd" target="_blank" rel="noopener">https://gist.github.com/ikaruce/2ee4088438bb45d25fbd</a></p>
<p>코드를 간단히 살펴보면 텔레그램 봇 데몬을 생성하고, 메시지 수신을 대기합니다. 그리고 들어오는 메시지에서 /greet라는 명령이 전달되면 Hello ~ 라는 메시지를 보내게 되는거죠. 만약 모르는 명령이 들어오면 나는 메시지를 모른다는 메시지를 보내는 간단한 코드입니다.</p>
<p>실행해서 메시지를 보내보면 아래와 같이 동작을 확인하실 수 있습니다.<br><img src="http://nonamedeveloper.com/wp-content/uploads/2016/03/1.-ruby-2016-03-21-09-11-21-300x190.jpg" alt="1\. ruby 2016-03-21 09-11-21"></p>
<p>그럼 이제 연습삼아 생성했던 Bot은 삭제를 해야죠.<br><img src="http://nonamedeveloper.com/wp-content/uploads/2016/03/Telegram-2016-03-21-09-18-10-243x300.jpg" alt="Telegram 2016-03-21 09-18-10"><br>‘/deletebot’이라는 명령을 전송하고 나는 이 봇을 삭제합니다. 라고 확인 메시지를 보내면 만들었던 bot 계정은 사라지게 됩니다.</p>

  </article>
</div>


    




</div>

<div class="footer-wrapper container">
  <footer class="footer clearfix">
    <a href="http://www.devpools.kr" class="footer-logo">
      <i class="fa fa-github"></i>
    </a>
    <ul class="footer-social-link">
      <li>© 2016 devpools</li>
      <li><a href="http://www.devpools.kr">Home</a></li>
      
      <li><a href="https://github.com/devpools">Github</a></li>
      
    </ul>
    <div class="footer-theme-info">
      Theme <a href="//github.com/sabrinaluo/hexo-theme-replica">Replica</a>
      by <a href="//github.com/sabrinaluo">Hiitea</a> ❤ Powered by Hexo
    </div>
  </footer>
</div>




<script src="/js/main.js"></script>

</body>
</html>
